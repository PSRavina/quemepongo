(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,a){},41:function(e,t,a){e.exports=a(76)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),o=a.n(l),c=(a(46),a(8)),i=a(35),s=a(40),u=a(2),m=a(4),h=a(6),p=a(5),d=a(7),v=(a(47),a(15)),g=a(17),f=(a(48),a(78));var E=function(e){var t=e.userInSession,a=e.logout;return t?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.a,{onClick:function(e){a()},variant:"danger"}," Log out"))),r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Bienvenido a tu armario virtual"))):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style1"},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/signup"},"Signup")),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/login"},"Login"))))},b=a(16),w=a.n(b),y=function e(){var t=this;Object(u.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return w.a.post("http://localhost:3001/api/auth/logout").then((function(e){return e.data}))};"".concat("https://qemepongo.herokuapp.com/api","/auth");this.service=w.a.create({baseURL:"".concat("https://qemepongo.herokuapp.com/api","/auth"),withCredentials:!0})},j=(a(71),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then((function(e){a.setState({username:"",password:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(c.a)({},n,r))},a.state={username:"",password:""},a.service=new y,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Bienvenido, crea tu cuenta aqu\xed:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement(f.a,{variant:"primary",className:"login-button",type:"submit",value:"Sign up"},"Sign up")),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component)),O=(a(72),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(c.a)({},n,r))},a.state={username:"",password:""},a.service=new y,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Por favor, haz login para entrar :"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement(f.a,{variant:"primary",className:"login-button",type:"submit",value:"Login"},"Log in")),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component)),C=function e(){var t=this;Object(u.a)(this,e),this.getAllClothes=function(){return t.service.get("/closet").then((function(e){return e.data}))},this.getClothe=function(e){return t.service.get("/closet/".concat(e)).then((function(e){return e.data}))},this.addClothes=function(e){return t.service.post("/newclothes",e).then((function(e){return e.data}))},this.deleteClothes=function(e){return t.service.delete("/delete-clothes/".concat(e)).then((function(e){return e.data}))},this.service=w.a.create({baseURL:"".concat("https://qemepongo.herokuapp.com/api")})},S=(a(33),a(77)),k=(a(73),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).onChange=function(t){t.preventDefault();var a=t.target,n=a.name,r=a.value;e.setState(Object(c.a)({},n,r))},e.state={prenda:"pantalon",category:"soleado",storm:"Si",wind:"Si",type:"sportswear",image:"https://previews.123rf.com/images/apoev/apoev1806/apoev180600084/103284681-default-placeholder-fitness-trainer-in-a-t-shirt-half-length-portrait-photo-avatar-gray-color.jpg"},e.services=new C,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"sendForm",value:function(e){var t=this;e.preventDefault(),this.services.addClothes(this.state).then((function(){return t.props.updateCloth}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"Form",onChange:function(t){return e.onChange(t)}},r.a.createElement("label",null,"Escoge una prenda:"),r.a.createElement("select",{name:"prenda"},r.a.createElement("option",{value:"pantalon"},"Pantal\xf3n"),r.a.createElement("option",{value:"falda"},"Falda"),r.a.createElement("option",{value:"camiseta/blusa"},"Blusa/camisa"),r.a.createElement("option",{value:"abrigo"},"Abrigo"),r.a.createElement("option",{value:"chaqueta"},"Chaqueta"),r.a.createElement("option",{value:"vestido"},"Vestido")),r.a.createElement("label",null,"Escoge una categor\xeda:"),r.a.createElement("select",{name:"category"},r.a.createElement("option",{value:"soleado"},"Soleado"),r.a.createElement("option",{value:"medio"},"Medio"),r.a.createElement("option",{value:"frio"},"Frio")),r.a.createElement("label",null,"Impermeable:"),r.a.createElement("select",{name:"storm"},r.a.createElement("option",{value:"Si"},"Si"),r.a.createElement("option",{value:"No"},"no")),r.a.createElement("label",null,"Cortavientos:"),r.a.createElement("select",{name:"wind"},r.a.createElement("option",{value:"Si"},"Si"),r.a.createElement("option",{value:"No"},"no")),r.a.createElement("label",null,"Outfit:"),r.a.createElement("select",{name:"type"},r.a.createElement("option",{value:"sportswear"},"Deportiva"),r.a.createElement("option",{value:"casual"},"Casual"),r.a.createElement("option",{value:"formal"},"Formal"),r.a.createElement("option",{value:"workwear"},"Ropa de trabajo")),r.a.createElement("input",{name:"image",type:"file",placeholder:"image",value:""}),r.a.createElement(f.a,{onClick:function(t){return e.sendForm(t)},variant:"primary"},"A\xf1adir al armario")))}}]),t}(r.a.Component)),U=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).onDelete=function(t,a){t.preventDefault(),e.services.deleteClothes(a).then((function(){return e.getAllClothes()})).catch((function(e){return console.log(e)}))},e.getAllClothes=function(){e.services.getAllClothes().then((function(t){e.setState({clothes:t})})).catch((function(e){return console.log(e)}))},e.componentDidMount=function(){e.getAllClothes()},e.state=Object(c.a)({clothes:[],prenda:"",category:"",storm:!1,wind:!1,type:"",image:""},"prenda",""),e.services=new C,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"closet"},r.a.createElement(k,{updateClothes:this.getAllClothes()}),r.a.createElement("ul",null,this.state.clothes.map((function(t,a){return r.a.createElement(S.a,{style:{width:"18rem"}},r.a.createElement(S.a.Img,{variant:"top",src:t.image}),r.a.createElement(S.a.Body,null,r.a.createElement(S.a.Title,null,t.prenda),r.a.createElement(S.a.Title,null,"Tipo: ",t.type),r.a.createElement(S.a.Title,null,"Clima: ",t.category),r.a.createElement(S.a.Title,null,"Lluvia: ",t.storm),r.a.createElement(S.a.Title,null,"Cortavientos: ",t.wind),r.a.createElement(f.a,{onClick:function(a){return e.onDelete(a,t._id)},variant:"danger"},"Eliminar prenda")))})))))}}]),t}(n.Component),N=(n.Component,a(74),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"allClothes"},r.a.createElement(U,{className:"boot"}))}}]),t}(n.Component)),I=function e(){var t=this;Object(u.a)(this,e),this.getTemperature=function(){return t.service.get().then((function(e){return e.data}))},this.service=w.a.create({baseURL:"https://api.openweathermap.org/data/2.5/weather?q=Madrid&units=metric&appid=521ac5c00f7f010e3fec218a77ce8285&lang=es"})},F=(a(75),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).getTemperature=function(){e.services.getTemperature().then((function(t){e.setState({Temps:t,country:t.sys.country,description:t.weather[0].description,icon:t.weather[0].icon,temp:t.main.temp,humidity:t.main.humidity,windSpeed:t.wind.speed,city:t.name})})).catch((function(e){return console.log(e)}))},e.componentDidMount=function(){return e.getTemperature()},e.state={Temps:[],country:"",description:"",icon:"",temp:0,humidity:0,windSpeed:0,city:""},e.services=new I,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,this.state.city),r.a.createElement("h2",null,this.state.country),r.a.createElement("h2",null,this.state.temp,"\xbaC"),r.a.createElement("h2",null,this.state.description),r.a.createElement("img",{className:"Icon",src:"https://openweathermap.org/img/w/".concat(this.state.icon,".png"),alt:"Icon"}),r.a.createElement("h2",null,"Humedad: ",this.state.humidity,"%"),r.a.createElement("h2",null,"Velocidad del viento: ",this.state.windSpeed,"km/h"))}}]),t}(n.Component)),T=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).addFood=function(e){var t=Object(s.a)(a.state.clothes);t.push(e),a.setState({clothes:t})},a.getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then((function(){a.setState({loggedInUser:null})}))},a.state={loggedInUser:null},a.service=new y,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"updateForm",value:function(e,t){this.setState(Object(i.a)({},this.state,Object(c.a)({},t,e.target.value)))}},{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{to:"/home"}),r.a.createElement("div",{className:"home"},r.a.createElement("header",{className:"App-header"},r.a.createElement(E,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement("div",null,r.a.createElement(N,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{to:"/login"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header1"},r.a.createElement("div",{className:"login"},r.a.createElement(E,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(j,{getUser:e.getUser})}}),r.a.createElement(v.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(O,{getUser:function(t){return e.getUser(t)}})}}))),r.a.createElement("div",{className:"TempDiv"},r.a.createElement("h4",null,r.a.createElement(F,null))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g.a,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.f5154946.chunk.js.map