(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{35:function(e,t,n){e.exports=n(70)},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(30),o=n.n(l),c=(n(40),n(10)),s=n(31),i=n(34),u=n(1),m=n(3),h=n(5),p=n(4),d=n(6),g=(n(41),n(12)),v=n(15);n(42);var f=function(e){var t=e.userInSession,n=e.logout;return t?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){n()}},"Logout"))),r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Bienvenido a tu armario virtual"))):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style1"},r.a.createElement("div",null,r.a.createElement(v.b,{to:"/signup"},"Signup")),r.a.createElement("div",null,r.a.createElement(v.b,{to:"/login"},"Login"))))},E=n(13),b=n.n(E),w=function e(){var t=this;Object(u.a)(this,e),this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then((function(e){return e.data}))},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return b.a.post("http://localhost:3001/api/auth/logout").then((function(e){return e.data}))};"".concat("https://qemepongo.herokuapp.com/api","/auth");this.service=b.a.create({baseURL:"".concat("https://qemepongo.herokuapp.com/api","/auth"),withCredentials:!0})},y=(n(65),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.signup(t,a).then((function(e){n.setState({username:"",password:""}),n.props.getUser(e.user)})).catch((function(e){n.setState({username:t,password:a,error:!0})}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(c.a)({},a,r))},n.state={username:"",password:""},n.service=new w,n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Welcome!, create your account next:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"signup-buttom",type:"submit",value:"Sign up"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(a.Component)),j=(n(66),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then((function(e){n.setState({username:t,password:a,error:!1}),n.props.getUser(e)})).catch((function(e){n.setState({username:t,password:a,error:!0})}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(c.a)({},a,r))},n.state={username:"",password:""},n.service=new w,n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Please, login to our site"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"login-button",type:"submit",value:"Login"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(a.Component)),O=function e(){var t=this;Object(u.a)(this,e),this.getAllClothes=function(){return t.service.get("/closet").then((function(e){return e.data}))},this.getClothe=function(e){return t.service.get("/closet/".concat(e)).then((function(e){return e.data}))},this.addClothes=function(e){return t.service.post("/newclothes",e).then((function(e){return e.data}))},this.deleteClothes=function(e){return t.service.delete("/delete-clothes/".concat(e)).then((function(e){return console.log("Hola soy el servicio que elimina"),e.data}))},this.service=b.a.create({baseURL:"".concat("https://qemepongo.herokuapp.com/api")})},C=(n(67),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).onDelete=function(t){console.log("Hola soy el metodo que elimina"),console.log(t),e.services.deleteClothes(t).then((function(){return console.log("delete ok")})).catch((function(e){return console.log("ha fallado el delete")}))},e.getAllClothes=function(){e.services.getAllClothes().then((function(t){e.setState({clothes:t})})).catch((function(e){return console.log(e)}))},e.componentDidMount=function(){return e.getAllClothes()},e.state={clothes:[],category:"",storm:!1,wind:!1,type:"",image:"",prenda:""},e.services=new O,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"closet"},r.a.createElement("h1",null,"Lista de ropa"),r.a.createElement("ul",null,this.state.clothes.map((function(t,n){return r.a.createElement("div",{key:n},r.a.createElement("img",{className:"imgcloset",src:t.image,alt:"{clothe.image}"}),r.a.createElement("h2",null,"Prenda: ",t.prenda),r.a.createElement("h2",null,"Categor\xeda: ",t.category),r.a.createElement("h2",null,"Typo: ",t.type),r.a.createElement("p",null,"Lluvioso: ",t.storm),r.a.createElement("p",null,"Viento: ",t.wind),r.a.createElement("button",{onClick:e.onDelete(t._id)},"Borrar"))})))))}}]),t}(a.Component)),S=(n(68),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"allClothes"},r.a.createElement(C,null))}}]),t}(a.Component)),k=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).onChange=function(t){t.preventDefault();var n=t.target,a=n.name,r=n.value;e.setState(Object(c.a)({},a,r))},e.state={category:"soleado",storm:"Si",wind:"Si",type:"sportswear",image:"https://previews.123rf.com/images/apoev/apoev1806/apoev180600084/103284681-default-placeholder-fitness-trainer-in-a-t-shirt-half-length-portrait-photo-avatar-gray-color.jpg"},e.services=new O,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"sendForm",value:function(e){e.preventDefault(),this.services.addClothes(this.state)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onChange:function(t){return e.onChange(t)}},r.a.createElement("label",null,"Choose a category:"),r.a.createElement("select",{name:"category"},r.a.createElement("option",{value:"soleado"},"Soleado"),r.a.createElement("option",{value:"medio"},"Medio"),r.a.createElement("option",{value:"frio"},"Frio")),r.a.createElement("label",null,"Impermeable:"),r.a.createElement("select",{name:"storm"},r.a.createElement("option",{value:"Si"},"Si"),r.a.createElement("option",{value:"No"},"no")),r.a.createElement("label",null,"Cortavientos:"),r.a.createElement("select",{name:"wind"},r.a.createElement("option",{value:"Si"},"Si"),r.a.createElement("option",{value:"No"},"no")),r.a.createElement("label",null,"Outfit:"),r.a.createElement("select",{name:"type"},r.a.createElement("option",{value:"sportswear"},"Deportiva"),r.a.createElement("option",{value:"casual"},"Casual"),r.a.createElement("option",{value:"formal"},"Formal"),r.a.createElement("option",{value:"workwear"},"Ropa de trabajo")),r.a.createElement("button",{onClick:function(t){return e.sendForm(t)}}," Send Form")))}}]),t}(r.a.Component),U=function e(){var t=this;Object(u.a)(this,e),this.getTemperature=function(){return t.service.get().then((function(e){return e.data}))},this.service=b.a.create({baseURL:"http://api.openweathermap.org/data/2.5/weather?q=Madrid&units=metric&appid=521ac5c00f7f010e3fec218a77ce8285&lang=es"})},N=(n(69),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).getTemperature=function(){e.services.getTemperature().then((function(t){e.setState({Temps:t,country:t.sys.country,description:t.weather[0].description,icon:t.weather[0].icon,temp:t.main.temp,humidity:t.main.humidity,windSpeed:t.wind.speed,city:t.name})})).catch((function(e){return console.log(e)}))},e.componentDidMount=function(){return e.getTemperature()},e.state={Temps:[],country:"",description:"",icon:"",temp:0,humidity:0,windSpeed:0,city:""},e.services=new U,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,this.state.city),r.a.createElement("h2",null,this.state.country),r.a.createElement("h2",null,this.state.temp,"\xbaC"),r.a.createElement("h2",null,this.state.description),r.a.createElement("img",{className:"Icon",src:"http://openweathermap.org/img/w/".concat(this.state.icon,".png"),alt:"Icon"}),r.a.createElement("h2",null,"Humedad: ",this.state.humidity,"%"),r.a.createElement("h2",null,"Velocidad del viento: ",this.state.windSpeed,"km/h"))}}]),t}(a.Component)),I=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).addFood=function(e){var t=Object(i.a)(n.state.clothes);t.push(e),n.setState({clothes:t})},n.getUser=function(e){n.setState({loggedInUser:e})},n.logout=function(){n.service.logout().then((function(){n.setState({loggedInUser:null})}))},n.state={loggedInUser:null},n.service=new w,n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"updateForm",value:function(e,t){this.setState(Object(s.a)({},this.state,Object(c.a)({},t,e.target.value)))}},{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{to:"/home"}),r.a.createElement("div",{className:"home"},r.a.createElement("header",{className:"App-header"},r.a.createElement(f,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement("div",null,r.a.createElement(S,null)),r.a.createElement(k,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{to:"/login"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header1"},r.a.createElement("div",{className:"login"},r.a.createElement(f,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(y,{getUser:e.getUser})}}),r.a.createElement(g.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(j,{getUser:function(t){return e.getUser(t)}})}}))),r.a.createElement("div",{className:"TempDiv"},r.a.createElement("h4",null,"Temperatura :",r.a.createElement(N,null))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v.a,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.1593e343.chunk.js.map