(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{44:function(e,t,a){},54:function(e,t,a){e.exports=a(92)},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),o=a.n(l),c=(a(59),a(10)),s=a(26),i=a(24),u=a(5),m=a(6),h=a(8),p=a(7),d=a(9),v=(a(60),a(19)),g=a(12),E=(a(61),a(97));var f=function(e){var t=e.userInSession,a=e.logout;return t?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.a,{onClick:function(e){a()},variant:"danger"}," ","Log out"))),r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Bienvenido a tu armario virtual"))):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style1"},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/signup"},"Signup")),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/login"},"Login"))))},b=a(21),y=a.n(b),O=function e(){var t=this;Object(u.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return y.a.post("/logout").then((function(e){return e.data}))},this.service=y.a.create({baseURL:"".concat("https://qemepongo.herokuapp.com/api","/auth"),withCredentials:!0})},C=(a(84),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then((function(e){a.setState({username:"",password:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(c.a)({},n,r))},a.state={username:"",password:""},a.service=new O,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Bienvenido, crea tu cuenta aqu\xed:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement(E.a,{variant:"primary",className:"login-button",type:"submit",value:"Sign up"},"Sign up")),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component)),j=function e(){var t=this;Object(u.a)(this,e),this.getTemperature=function(){return t.service.get().then((function(e){return e.data}))},this.service=y.a.create({baseURL:"https://api.openweathermap.org/data/2.5/weather?q=Madrid&units=metric&appid=521ac5c00f7f010e3fec218a77ce8285&lang=es"})},w=(a(85),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).getTemperature=function(){e.services.getTemperature().then((function(t){e.setState({Temps:t,country:t.sys.country,description:t.weather[0].description,icon:t.weather[0].icon,temp:t.main.temp,humidity:t.main.humidity,windSpeed:t.wind.speed,city:t.name})})).catch((function(e){return console.log(e)}))},e.componentDidMount=function(){return e.getTemperature()},e.state={Temps:[],country:"",description:"",icon:"",temp:0,humidity:0,windSpeed:0,city:""},e.services=new j,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"temperaturediv"},r.a.createElement("h2",null,this.state.city),r.a.createElement("h2",null,this.state.country),r.a.createElement("h2",null,this.state.temp,"\xbaC"),r.a.createElement("h2",null,this.state.description),r.a.createElement("img",{className:"Icon",src:"https://openweathermap.org/img/w/".concat(this.state.icon,".png"),alt:"Icon"}),r.a.createElement("h2",null,"Humedad: ",this.state.humidity,"%"),r.a.createElement("h2",null,"Velocidad del viento: ",this.state.windSpeed,"km/h"))}}]),t}(n.Component)),S=(a(86),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(c.a)({},n,r))},a.state={username:"",password:""},a.service=new O,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Por favor, haz login para entrar :"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement(E.a,{variant:"primary",className:"login-button",type:"submit",value:"Login"},"Log in")),r.a.createElement("h1",null,this.state.error?"Error":""),r.a.createElement("h4",null,r.a.createElement(w,null)))}}]),t}(n.Component)),N=(a(87),function e(){var t=this;Object(u.a)(this,e),this.getAllClothes=function(){return t.service.get("/closet").then((function(e){return e.data}))},this.getClothe=function(e){return t.service.get("/closet/".concat(e)).then((function(e){return e.data}))},this.addClothes=function(e){return t.service.post("/newclothes",e).then((function(e){return e.data}))},this.deleteClothes=function(e){return t.service.delete("/delete-clothes/".concat(e)).then((function(e){return e.data}))},this.searchClothes=function(){return t.service.get("/search").then((function(e){return e.data}))},this.service=y.a.create({baseURL:"".concat("https://qemepongo.herokuapp.com/api")})}),U=a(94),k=a(95),A=a(51),I=a(96),T=(a(44),a(88),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(p.a)(t).call(this))).onChange=function(t){t.preventDefault();var a=t.target,n=a.name,r=a.value;e.setState(Object(c.a)({},n,r))},e.state={prenda:"pantalon",category:"soleado",storm:"Si",wind:"Si",type:"sportswear",image:"https://previews.123rf.com/images/apoev/apoev1806/apoev180600084/103284681-default-placeholder-fitness-trainer-in-a-t-shirt-half-length-portrait-photo-avatar-gray-color.jpg"},e.services=new N,e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"sendForm",value:function(e){var t=this;e.preventDefault(),this.services.addClothes(this.state).then((function(){return t.props.updateCloth}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"Linkformulario"},r.a.createElement(g.b,{to:"/Contents"},"VOLVER AL ARMARIO")),r.a.createElement("form",{className:"Form",onChange:function(t){return e.onChange(t)}},r.a.createElement("label",null,"ESCOGE UNA PRENDA:"),r.a.createElement("select",{name:"prenda"},r.a.createElement("option",{value:"pantalon"},"Pantal\xf3n"),r.a.createElement("option",{value:"falda"},"Falda"),r.a.createElement("option",{value:"camiseta/blusa"},"Blusa/camisa"),r.a.createElement("option",{value:"abrigo"},"Abrigo"),r.a.createElement("option",{value:"chaqueta"},"Chaqueta"),r.a.createElement("option",{value:"vestido"},"Vestido")),r.a.createElement("label",null,"ESCOGE UNA CATEGOR\xcdA:"),r.a.createElement("select",{name:"category"},r.a.createElement("option",{value:"soleado"},"Soleado"),r.a.createElement("option",{value:"medio"},"Medio"),r.a.createElement("option",{value:"frio"},"Frio")),r.a.createElement("label",null,"IMPERMEABLE:"),r.a.createElement("select",{name:"storm"},r.a.createElement("option",{value:"Si"},"Si"),r.a.createElement("option",{value:"No"},"no")),r.a.createElement("label",null,"CORTAVIENTOS::"),r.a.createElement("select",{name:"wind"},r.a.createElement("option",{value:"Si"},"Si"),r.a.createElement("option",{value:"No"},"no")),r.a.createElement("label",null,"OUTFIT:"),r.a.createElement("select",{name:"type"},r.a.createElement("option",{value:"sportswear"},"Deportiva"),r.a.createElement("option",{value:"casual"},"Casual"),r.a.createElement("option",{value:"formal"},"Formal"),r.a.createElement("option",{value:"workwear"},"Ropa de trabajo")),r.a.createElement("input",{name:"image",type:"file",placeholder:"image",value:""}),r.a.createElement(E.a,{onClick:function(t){return e.sendForm(t)},variant:"primary"},"A\xf1adir al armario")))}}]),t}(r.a.Component)),F=function(e){function t(){var e,a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this))).onDelete=function(e,t){e.preventDefault(),a.services.deleteClothes(t).then((function(){return a.getAllClothes()})).catch((function(e){return console.log(e)}))},a.getAllClothes=function(){a.services.getAllClothes().then((function(e){a.setState({clothes:e,clothesToDisplay:e})})).catch((function(e){return console.log(e)}))},a.searchClothes=function(e){console.log("entra en borrar");var t=a.state.clothes.filter((function(e){return e.prenda.includes(a.state.search)||e.category.includes(a.state.search)||e.type.includes(a.state.search)}));a.setState({clothesToDisplay:t})},a.updateForm=function(e){var t=e.target,n=t.name,r=t.value;console.log(r),console.log(n),a.setState(Object(c.a)({},n,r),(function(){a.searchClothes()}))},a.componentDidMount=function(){a.getAllClothes()},a.state=(e={clothes:[],clothesToDisplay:[],prenda:"",category:"",storm:!1,wind:!1,type:"",image:""},Object(c.a)(e,"prenda",""),Object(c.a)(e,"search",""),e),a.services=new N,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{bg:"light",variant:"light"},r.a.createElement(U.a.Brand,{href:"/home"},"Quemepongo"),r.a.createElement(k.a,{inline:!0},r.a.createElement(A.a,{onChange:this.updateForm,type:"text",placeholder:"Search",className:"mr-sm-2",value:this.state.value,name:"search"}),r.a.createElement("div",{className:"Linkformulario"},r.a.createElement(g.b,{to:"/FormClothe"},"A\xf1adir nueva ropa")))),r.a.createElement("div",{className:"closet"},r.a.createElement("ul",{className:"prendasul"},this.state.clothesToDisplay.map((function(t,a){return r.a.createElement(I.a,{style:{width:"18rem"}},r.a.createElement(I.a.Img,{variant:"top",src:t.image}),r.a.createElement(I.a.Body,null,r.a.createElement(I.a.Title,null,t.prenda),r.a.createElement(I.a.Title,null,"Tipo: ",t.type),r.a.createElement(I.a.Title,null,"Clima: ",t.category),r.a.createElement(I.a.Title,null,"Lluvia: ",t.storm),r.a.createElement(I.a.Title,null,"Cortavientos: ",t.wind),r.a.createElement(E.a,{onClick:function(a){return e.onDelete(a,t._id)},variant:"danger"},"Eliminar prenda")))})))))}}]),t}(n.Component),D=(n.Component,r.a.Component,function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"allClothes"},r.a.createElement(w,{className:"Tempcloset"}),r.a.createElement(F,{className:"boot"}))}}]),t}(n.Component)),L=(a(91),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null},a.service=new O,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(s.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"div-text"},r.a.createElement("h2",null,"\xbfCansado de tener que elegir tu ropa cada vez que sales a la calle?",r.a.createElement("br",null),r.a.createElement("br",null),"\xbfCansado de tener que abrir la ventana para saber que tiempo hace y que ponerte?",r.a.createElement("br",null),r.a.createElement("br",null),"\xa1Aqu\xed tenemos tu soluci\xf3n!",r.a.createElement("br",null),r.a.createElement("br",null),"\xa1Clasifica tu ropa seg\xfan la climatolog\xeda y accede a ella de formna sencilla! Ademas te muestra la informaci\xf3n meteorol\xf3gica para que selecciones tu vestimenta de la manera m\xe1s \xf3ptima. \xa1Pru\xe9balo ya!")),r.a.createElement("div",{className:"land-photo"},r.a.createElement("img",{src:"https://mejorconsalud.com/wp-content/uploads/2019/03/consejos-para-no-acumular-ropa-en-el-armario-500x333.jpg",alt:"Armario"})))}}]),t}(n.Component)),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).addFood=function(e){var t=Object(i.a)(a.state.clothes);t.push(e),a.setState({clothes:t})},a.getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then((function(){a.setState({loggedInUser:null})}))},a.state={loggedInUser:null},a.service=new O,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"updateForm",value:function(e,t){this.setState(Object(s.a)({},this.state,Object(c.a)({},t,e.target.value)))}},{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{to:"/Contents"}),r.a.createElement("div",{className:"home"},r.a.createElement("header",{className:"App-header"},r.a.createElement(f,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement("main",null,r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/Contents",component:D,render:function(){return r.a.createElement(D,{userInSession:e.state.loggedInUser,logout:e.logout})}}),r.a.createElement(v.b,{exact:!0,path:"/FormClothe",component:T,render:function(){return r.a.createElement(T,null)}}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{to:"/Landing"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header1"},r.a.createElement("div",{className:"login"},r.a.createElement(f,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/Landing",component:L,render:function(){return r.a.createElement(L,null)}}),r.a.createElement(v.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(C,{getUser:e.getUser})}}),r.a.createElement(v.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(S,{getUser:function(t){return e.getUser(t)}})}}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g.a,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.6db5fc04.chunk.js.map